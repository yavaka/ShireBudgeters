@page "/"
@rendermode InteractiveServer
@using ShireBudgeters.Components.Pages.HomePageComponents

<PageTitle>Home</PageTitle>

@* Hero Section *@
<RadzenStack Orientation="Orientation.Vertical"
             class="hero-modern-container" 
             JustifyContent="JustifyContent.Center"
             AlignItems="AlignItems.Center">
    <RadzenRow class="rz-max-w-900 rz-p-4">
        <RadzenColumn Size="12" class="rz-text-center">
            <RadzenText Text="Unlock Your Best Life." 
                        TextStyle="TextStyle.DisplayH1" 
                        class="hero-title rz-mb-1" /> 
            <RadzenText Text="Smarter Money. Better Tech. Higher Output." 
                        TextStyle="TextStyle.DisplayH4" 
                        class="hero-subtitle rz-mb-5" /> 
            <HeroLeadMagnet />
        </RadzenColumn>
    </RadzenRow>
</RadzenStack>

@* Finance - Latest Articles Section *@
<RadzenStack Orientation="Orientation.Vertical" class="rz-p-5 section-container">
    
    @* Section Title - Centered and clear *@
    <RadzenText Text="Latest Financial Insights" 
                TextStyle="TextStyle.H4" 
                class="rz-text-center rz-mb-5 rz-mt-4 section-title-separator" />

    @* Article Grid - Uses Gap to ensure spacing between columns *@
    <RadzenRow Gap="2rem">
        @foreach (var article in LatestFinanceArticles)
        {
            @* On mobile (default), it takes full width (12). On medium screens (MD) and up, it takes 1/3 (4) *@
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenCard class="article-card-modern rz-shadow-3 rz-border-radius-1" 
                            Style="cursor: pointer; height: 100%;"
                            Click="@(() => NavigateToArticle(article.Url))">
                    
                    @* Image (Placeholder for the thumbnail) *@
                    <div class="card-image-placeholder" 
                         Style="background-image: url(@article.ImageUrl);">
                    </div>

                    @* Content Area *@
                    <div class="rz-p-3">
                        @* Category Tag - Subtle color accent *@
                        <RadzenText Text="@article.Category" 
                                    TextStyle="TextStyle.Caption" 
                                    class="rz-text-primary rz-fw-bold rz-mt-1 rz-mb-2" />
                                    
                        @* Title - Strong and bold *@
                        <RadzenText Text="@article.Title" 
                                    TextStyle="TextStyle.H6" 
                                    class="rz-mb-2 rz-fw-bold article-title-clamp" />
                                    
                        @* Excerpt - Secondary color for less emphasis *@
                        <RadzenText Text="@article.Excerpt" 
                                    TextStyle="TextStyle.Body1" 
                                    class="rz-mb-3 rz-text-secondary article-excerpt-clamp" />
                                    
                        @* Read More Link *@
                        <RadzenLink Path="@article.Url" 
                                    Text="Read More &rarr;" 
                                    class="rz-fw-bold rz-text-primary" />
                    </div>
                </RadzenCard>
            </RadzenColumn>
        }
    </RadzenRow>
</RadzenStack>

@* Tech - Latest Articles Section *@
<RadzenStack Orientation="Orientation.Vertical" class="rz-p-5 section-container">

    @* Section Title *@
    <RadzenText Text="Featured Tech Reviews"
                TextStyle="TextStyle.H4"
                class="rz-text-center rz-mb-5 rz-mt-4 section-title-separator" />

    @* Review Grid *@
    <RadzenRow Gap="2rem">
        @foreach (var review in LatestTechReviews)
        {
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenCard class="article-card-modern rz-shadow-3 rz-border-radius-1"
                            Style="cursor: pointer; height: 100%;"
                            Click="@(() => NavigateToReview(review.Url))">

                    @* Image (Product Thumbnail) *@
                    <div class="card-image-placeholder"
                         Style="background-image: url(@review.ImageUrl);">
                    </div>

                    @* Content Area *@
                    <div class="rz-p-3">

                        @* Product Type Tag *@
                        <RadzenText Text="@review.ProductType"
                                    TextStyle="TextStyle.Caption"
                                    class="rz-text-info rz-fw-bold rz-mt-1 rz-mb-2" />

                        @* Title *@
                        <RadzenText Text="@review.Title"
                                    TextStyle="TextStyle.H6"
                                    class="rz-mb-2 rz-fw-bold article-title-clamp" />

                        @* Star Rating *@
                        <RadzenRating ReadOnly="true"
                                      Value="@review.Rating"
                                      Count="5"
                                      class="rz-mb-2" />

                        @* Key Takeaway/Excerpt *@
                        <RadzenText Text="@review.KeyTakeaway"
                                    TextStyle="TextStyle.Body1"
                                    class="rz-mb-3 rz-text-secondary article-excerpt-clamp" />

                        @* Read Full Review Link *@
                        <RadzenLink Path="@review.Url"
                                    Text="Read Full Review &rarr;"
                                    class="rz-fw-bold rz-text-info" />
                    </div>
                </RadzenCard>
            </RadzenColumn>
        }
    </RadzenRow>
</RadzenStack>

@* Productivity Guide - Latest Articles Section *@
<RadzenStack Orientation="Orientation.Vertical" class="rz-p-5 section-container productivity-section-bg">

    @* Section Title *@
    <RadzenText Text="Practical Productivity Guides"
                TextStyle="TextStyle.H4"
                class="rz-text-center rz-mb-5 rz-mt-4 section-title-separator" />

    @* Guides Grid *@
    <RadzenRow Gap="2rem">
        @foreach (var guide in LatestProductivityGuides)
        {
            <RadzenColumn Size="12" SizeMD="4">
                <RadzenCard class="article-card-modern rz-shadow-3 rz-border-radius-1"
                            Style="cursor: pointer; height: 100%;"
                            Click="@(() => NavigateToGuide(guide.Url))">

                    @* Image (Guide Thumbnail) *@
                    <div class="card-image-placeholder"
                         Style="background-image: url(@guide.ImageUrl);">
                    </div>

                    @* Content Area *@
                    <div class="rz-p-3">

                        @* Focus Area Tag *@
                        <RadzenText Text="@guide.FocusArea"
                                    TextStyle="TextStyle.Caption"
                                    class="rz-text-success rz-fw-bold rz-mt-1 rz-mb-2" />

                        @* Title *@
                        <RadzenText Text="@guide.Title"
                                    TextStyle="TextStyle.H6"
                                    class="rz-mb-2 rz-fw-bold article-title-clamp" />

                        @* Quick Info (Reading Time) *@
                        <RadzenText Text="@guide.ReadingTime"
                                    TextStyle="TextStyle.Body2"
                                    class="rz-mb-2 rz-text-muted" />

                        @* Key Tip/Excerpt *@
                        <RadzenText Text="@guide.KeyTip"
                                    TextStyle="TextStyle.Body1"
                                    class="rz-mb-3 rz-text-secondary article-excerpt-clamp" />

                        @* Read Guide Link *@
                        <RadzenLink Path="@guide.Url"
                                    Text="Read Guide &rarr;"
                                    class="rz-fw-bold rz-text-success" />
                    </div>
                </RadzenCard>
            </RadzenColumn>
        }
    </RadzenRow>
</RadzenStack>

@* Top Recommendations (Affiliate Picks) *@
<RadzenStack Orientation="Orientation.Vertical" class="rz-p-5 section-container affiliate-picks-section">

    @* Section Title *@
    <RadzenText Text="Our Top Recommended Tools & Services"
                TextStyle="TextStyle.H4"
                class="rz-text-center rz-mb-5 rz-mt-4 section-title-separator" />

    <RadzenRow JustifyContent="JustifyContent.Center">
        @* Using a single column centered for a neat list look *@
        <RadzenColumn Size="12" SizeMD="8">

            @* Iterate through all recommendations *@
            @foreach (var pick in TopRecommendations)
            {
                <RadzenCard class="affiliate-pick-card rz-mb-3 rz-shadow-1" Style="padding: 15px;">
                    <RadzenRow AlignItems="AlignItems.Center">

                        @* Icon and Category (Left side) *@
                        <RadzenColumn Size="12" SizeMD="4">
                            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                                <RadzenIcon Icon="@pick.Icon" class="rz-text-warning" Style="font-size: 24px;" />
                                <RadzenStack>
                                    <RadzenText Text="@pick.Category" TextStyle="TextStyle.Caption" class="rz-mb-0 rz-fw-bold" />
                                    <RadzenText Text="@pick.Product" TextStyle="TextStyle.H6" class="rz-mb-0" />
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenColumn>

                        @* Description (Center) *@
                        <RadzenColumn Size="12" SizeMD="5" class="rz-mt-2 rz-mt-md-0">
                            <RadzenText Text="@pick.Description" TextStyle="TextStyle.Body1" class="rz-mb-0 rz-text-secondary" />
                        </RadzenColumn>

                        @* CTA Button (Right side) *@
                        <RadzenColumn Size="12" SizeMD="3" class="rz-text-md-end rz-text-center rz-mt-2 rz-mt-md-0">
                            <RadzenButton Text="Get Deal &rarr;"
                                          ButtonStyle="ButtonStyle.Warning"
                                          Variant="Variant.Flat"
                                          Target="_blank"
                                          Click="@(() => NavManager.NavigateTo(pick.AffiliateUrl, forceLoad: true))" />
                        </RadzenColumn>
                    </RadzenRow>
                </RadzenCard>
            }

        </RadzenColumn>
    </RadzenRow>
</RadzenStack>

@code {
    // Remember to inject NavigationManager for the Click events on the cards
    [Inject]
    NavigationManager NavManager { get; set; } = default!;

    #region Article

    public record Article
    {
        public required string Title { get; init; }
        public required string Excerpt { get; init; }
        public required string ImageUrl { get; init; }
        public required string Category { get; init; }
        public required string Url { get; init; }
    }

    private List<Article> LatestFinanceArticles = new List<Article>
    {
        new Article {
            Title = "The Ultimate Beginner's Guide to Investing in Index Funds",
            Excerpt = "Learn how to build a diversified portfolio with minimal effort and expense, and why passive investing is key to long-term wealth.",
            ImageUrl = "images/finance-index.jpg",
            Category = "Investing",
            Url = "/finance/investing-index-funds"
        },
        new Article {
            Title = "Debt Snowball vs. Avalanche: Which Method Will Save You More?",
            Excerpt = "A deep dive into the two most popular debt repayment strategies and a financial breakdown of which one will accelerate your freedom.",
            ImageUrl = "images/finance-debt.jpg",
            Category = "Debt & Credit",
            Url = "/finance/debt-snowball-avalanche"
        },
        new Article {
            Title = "Revolut vs. Wise: Which Digital Bank is Best for International Travel?",
            Excerpt = "Comparing fees, exchange rates, and unique features for international spending and transfers in 2024.",
            ImageUrl = "images/finance-banks.jpg",
            Category = "Financial Apps",
            Url = "/finance/revolut-vs-wise"
        }
    };

    void NavigateToArticle(string url)
    {
        NavManager.NavigateTo(url);
    }

    #endregion 
    
    #region TechReview

    public record TechReview
    {
        public required string Title { get; set; }
        public required string ProductType { get; set; }
        public required string KeyTakeaway { get; set; }
        public required string ImageUrl { get; set; }
        public required int Rating { get; set; } 
        public required string Url { get; set; }
    }

    private List<TechReview> LatestTechReviews = new List<TechReview>
    {
        new TechReview {
            Title = "iPhone 17 Pro Max Review: Is the Camera Worth the Upgrade?",
            ProductType = "Phone",
            KeyTakeaway = "An incremental update, but the new telephoto lens sets a new standard for mobile photography.",
            ImageUrl = "images/tech-iphone.jpg",
            Rating = 5,
            Url = "/tech/reviews/iphone-17-pro-max"
        },
        new TechReview {
            Title = "Best Budget Laptops of 2025: Performance Without Breaking the Bank",
            ProductType = "PC & Laptop",
            KeyTakeaway = "We tested 10 models and found the Acer Swift 5 offers the best balance of power and portability under $800.",
            ImageUrl = "images/tech-laptop.jpg",
            Rating = 4,
            Url = "/tech/reviews/best-budget-laptops"
        },
        new TechReview {
            Title = "Review: The Top 5 Smartwatches for Fitness Tracking in 2025",
            ProductType = "Gadget",
            KeyTakeaway = "From sleep tracking to ECG, the Garmin Venu 3 leads the pack for serious health monitoring.",
            ImageUrl = "images/tech-watch.jpg",
            Rating = 4,
            Url = "/tech/reviews/smartwatches-2025"
        }
    };

    void NavigateToReview(string url)
    {
        NavManager.NavigateTo(url);
    }

    #endregion

    #region ProductivityGuide

    public class Guide
    {
        public string Title { get; set; }
        public string FocusArea { get; set; } // e.g., Habits, Office Setup, Time Management
        public string KeyTip { get; set; }
        public string ImageUrl { get; set; }
        public string ReadingTime { get; set; } // e.g., "5 min read"
        public string Url { get; set; }
    }

    private List<Guide> LatestProductivityGuides = new List<Guide>
    {
        new Guide {
            Title = "The 5 AM Club: How to Build a Routine That Sticks",
            FocusArea = "Organization & Habits",
            KeyTip = "Practical steps and mental models to help you embrace early morning productivity without burning out.",
            ImageUrl = "images/productivity-routine.jpg",
            ReadingTime = "7 min read",
            Url = "/productivity/build-morning-routine"
        },
        new Guide {
            Title = "Ergonomic Home Office Setup: The Essential Checklist",
            FocusArea = "Home Office",
            KeyTip = "Optimize your desk, chair, and monitor placement to prevent back pain and boost focus during long workdays.",
            ImageUrl = "images/productivity-office.jpg",
            ReadingTime = "10 min read",
            Url = "/productivity/ergonomic-checklist"
        },
        new Guide {
            Title = "Mastering Notion: 7 Templates to Organize Your Entire Life",
            FocusArea = "Software & Tools",
            KeyTip = "Utilize free templates for goal tracking, project management, and daily planning within the Notion environment.",
            ImageUrl = "images/productivity-notion.jpg",
            ReadingTime = "8 min read",
            Url = "/productivity/notion-templates"
        }
    };

    void NavigateToGuide(string url)
    {
        NavManager.NavigateTo(url);
    }

    #endregion

    #region AffiliatePicks

    public record AffiliatePick
    {
        public required   string Category { get; set; } 
        public required string Product { get; set; }  
        public required string Icon { get; set; }     
        public required string Description { get; set; }
        public required string AffiliateUrl { get; set; }
    }

    private List<AffiliatePick> TopRecommendations = new List<AffiliatePick>
    {
        // Finance Picks
        new AffiliatePick {
            Category = "Best Trading Platform",
            Product = "Trading 212",
            Icon = "trending_up",
            Description = "Commission-free investing for stocks and ETFs, perfect for beginners and long-term holds.",
            AffiliateUrl = "https://affiliate.link/trading212"
        },
        new AffiliatePick {
            Category = "Digital Banking",
            Product = "Revolut / Wise",
            Icon = "account_balance_wallet",
            Description = "Best for multi-currency accounts and low-fee international transfers and travel.",
            AffiliateUrl = "https://affiliate.link/revolut-wise"
        },
        // Tech & Software Picks
        new AffiliatePick {
            Category = "Top-Rated VPN",
            Product = "NordVPN",
            Icon = "security",
            Description = "Unbeatable speeds and security features across all devices. Get a 2-year discount!",
            AffiliateUrl = "https://affiliate.link/nordvpn"
        },
        new AffiliatePick {
            Category = "Web Hosting",
            Product = "Hostinger",
            Icon = "cloud",
            Description = "Fast, affordable cloud hosting with a 99.9% uptime guarantee for your website projects.",
            AffiliateUrl = "https://affiliate.link/hostinger"
        },
        // Productivity Picks
        new AffiliatePick {
            Category = "Essential Note-Taking App",
            Product = "Notion",
            Icon = "dashboard",
            Description = "The all-in-one workspace for documentation, planning, and knowledge management.",
            AffiliateUrl = "https://affiliate.link/notion"
        },
    };

    #endregion
}
