@using Radzen.Blazor
@inject DialogService DialogService

<RadzenStack Orientation="Orientation.Horizontal"
             AlignItems="AlignItems.Center"
             Gap="0.5rem"
             Wrap="FlexWrap.Wrap"
             JustifyContent="JustifyContent.Center"
             class="rz-p-2 rz-mx-auto modern-form-stack">

    @* The prompt is moved above or next to the form on a modern design *@
    <RadzenText Text="Get Your Free Guide: 10 Ways to Slash Your Spending This Month."
                TextStyle="TextStyle.Body1"
                class="rz-mb-0 rz-fw-bold form-prompt" />

    <RadzenTextBox @bind-Value="@EmailAddress"
                   Placeholder="Your Email Address"
                   Style="min-width: 250px; height: 50px;"
                   class="modern-input" />

    <RadzenButton Text="Get Instant Access"
                  Click="@OnSubscribe"
                  ButtonStyle="ButtonStyle.Warning"
                  Variant="Variant.Flat"
                  Style="height: 50px; font-weight: 600;" />

</RadzenStack>

@code {
    string EmailAddress { get; set; }

    async Task OnSubscribe()
    {
        if (string.IsNullOrWhiteSpace(EmailAddress) || !EmailAddress.Contains("@"))
        {
            await DialogService.Alert("Please enter a valid email address.", "Validation Error");
            return;
        }

        // Placeholder for subscription logic
        await DialogService.Alert($"Success! Your guide has been sent to {EmailAddress}.", "Check Your Inbox");

        EmailAddress = string.Empty;
    }
}